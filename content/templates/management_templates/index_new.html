{% extends 'management_templates/base.html' %}

{% load i18n %}
{% load static %}
{% block dashboard %}
    <link rel="apple-touch-icon" href="{% static "assets_backend/images/ico/apple-icon-120.png" %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static "assets_backend/images/ico/favicon.ico" %}">


    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/font_muli.css" %}">

    <!-- BEGIN: Vendor CSS-->
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/vendors/css/vendors.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/vendors/css/charts/chartist.css" %}">
    <link rel="stylesheet" type="text/css"
          href="{% static "assets_backend/vendors/css/charts/chartist-plugin-tooltip.css" %}">
    <!-- END: Vendor CSS-->

    <!-- BEGIN: Theme CSS-->
    {#    TODO: 处理冲突 #}
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/bootstrap.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/bootstrap-extended.css" %}">


    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/colors.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/components.css" %}">

    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/vendors/css/charts/chartist.css" %}">
    <link rel="stylesheet" type="text/css"
          href="{% static "assets_backend/vendors/css/charts/chartist-plugin-tooltip.css" %}">



    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/core/colors/palette-gradient.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/core/colors/palette-gradient.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/fonts/simple-line-icons/style.min.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/pages/chat-application.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/pages/advanced-cards.css" %}">



    <!-- END: Theme CSS-->

    <!-- BEGIN: Page CSS-->
    <link rel="stylesheet" type="text/css"
          href="{% static "assets_backend/css/core/menu/menu-types/vertical-menu.css" %}">
    <link rel="stylesheet" type="text/css"
          href="{% static "assets_backend/css/core/colors/palette-gradient.css" %}">
    <link rel="stylesheet" type="text/css"
          href="{% static "assets_backend/css/core/colors/palette-gradient.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/pages/chat-application.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/pages/dashboard-analytics.css" %}">
    <!-- END: Page CSS-->

    <!-- BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="{% static "assets_backend/css/style.css" %}">
    <!-- END: Custom CSS-->

    {#        #}
    {#    <!-- bootstrap & fontawesome -->#}
    {#    <link href="{% static 'assets/css/bootstrap.min.css' %}" rel="stylesheet">#}
    <link href="{% static 'assets/font-awesome/4.5.0/css/font-awesome.min.css' %}"
          rel="stylesheet">


    <!-- ace styles -->
    <link rel="icon" href="{% static 'favicon.ico' %}">

    <link href="{% static 'assets/css/fonts.googleapis.com.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/ace.min.css' %}" rel="stylesheet" class="ace-main-stylesheet" id="main-ace-style">
    <link rel="stylesheet" href="{% static 'assets/css/ace-skins.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'assets/css/ace-rtl.min.css' %}"/>
    <script src="{% static 'assets/js/ace-extra.min.js' %}"></script>


    <style>
        .page-content {
            overflow: auto;
            background-color: #FFF;
            position: relative;
            margin: 0;
            padding: 8px 0px 0px 16px !important;
            max-height: 647px;
        }

        .page-content > .row > .col-xs-12 {
            margin-left: -0px;
            margin-right: -0px;
        }

        .page-content > .row {
            margin-left: 0;
            margin-right: 0;

        }

        body {
            font-family: "Comfortaa", serif !important;
        }

        h1, h2, ~ h3, h4, h5, h6 {
            font-family: "Comfortaa", serif !important;
        }

        .nav-list li {
            width: 100%;
        }

        .navbar {
            display: block;
            height: 50px;
            padding: 0 !important;
        }

        .ace-nav {
            display: inline-block !important;
        }

        .navbar-container {
            padding: 0px;
            display: flex;
            justify-content: space-between;
        }

        .navbar-header {
            padding: 0;
        }

        .navbar-container {
            padding: 0 !important;
        }

        .navbar-buttons {
            width: 350px;
        }

        .navbar-header {
            padding-left: 25px;
        }

        .navbar {
            height: 45px;
        }

        .dropdown-toggle::after, .footer {
            display: none !important;
        }

        .round {
            border-radius: 1.5rem;
        }

        .bg-hexagons.card-body {
            height: 145px;
        }

        .media-body {
            overflow: unset !important;
        }

        .card-body .width-100 {
            width: 100px;
        }

        .big-card .btn-danger, .big-card .btn-danger.focus, .big-card .btn-danger:focus, .big-card .btn-danger:focus, .big-card .btn-danger:active {
            background-color: #fa7179 !important;
            border-color: #fa7179 !important;
            -webkit-box-shadow: 0 1px 2px 0 rgb(250 98 107 / 45%), 0 1px 3px 1px rgb(250 98 107 / 30%) !important;
            box-shadow: 0 1px 2px 0 rgb(250 98 107 / 45%), 0 1px 3px 1px rgb(250 98 107 / 30%) !important;
            color: #FFFFFF !important;
        }

        #report_btn {
            border-radius: 1.5em;
            background-color: #fa7179 !important;
            padding: 0px 20px;
            border-radius: 15px;
        }

        .card-header {
            padding: 1.5rem 1.5rem;
        }

        .card-title {
            margin-top: 0;
            font-size: 1.82rem;
        }

        .bg-hexagons .text-muted {
            position: relative;
            display: inline-block;
            white-space: nowrap;
            right: 125px;
            font-size: 15px;
            width: 123px;
        }

        .big-card .btn-bg-gradient-x-red-pink.btn-glow {
            -webkit-box-shadow: 0 0 12px 0 #ff5858 !important;
            box-shadow: 0 0 12px 0 #ff5858 !important;
        }

        .big-card .btn-bg-gradient-x-red-pink {
            border: none !important;
            color: #fff !important;
            background-image: -webkit-gradient(linear, left top, right top, from(#ff5858), color-stop(50%, #e888b7), to(#ff5858)) !important;
            background-image: -webkit-linear-gradient(left, #ff5858 0%, #e888b7 50%, #ff5858 100%) !important;
            background-image: -moz-linear-gradient(left, #ff5858 0%, #e888b7 50%, #ff5858 100%) !important;
            background-image: -o-linear-gradient(left, #ff5858 0%, #e888b7 50%, #ff5858 100%) !important;
            background-image: linear-gradient(90deg, #ff5858 0%, #e888b7 50%, #ff5858 100%) !important;
            -webkit-background-size: 200% auto !important;
            background-size: 200% auto !important;
            -webkit-transition: 0.5s !important;
            -o-transition: 0.5s !important;
            -moz-transition: 0.5s !important;
            transition: 0.5s !important;
        }

        .big-card .btn, .big-card .btn.focus, .big-card .btn:focus {
            border-color: #ffffff !important;
            background-image: -webkit-gradient(linear, left top, right top, from(#ff5858), color-stop(50%, #e888b7), to(#ff5858)) !important;
            background-image: -webkit-linear-gradient(left, #ff5858 0%, #e888b7 50%, #ff5858 100%) !important;
        }

        .heading-elements button {
            background: #ff5858 !important;
        }

        .page-header {
            display: none;
        }
    </style>
{% endblock %}


{% block location %}
    <ul class="breadcrumb">
        <li>
            <i class="ace-icon fa fa-home home-icon"></i>
            <a href="#">Home</a>
        </li>
    </ul><!-- /.breadcrumb -->
{% endblock %}

{% block page_header %}
    <div class="page-header">
        <h1>
            Home
            <small>
                <i class="ace-icon fa fa-angle-double-right"></i>
            </small>
        </h1>
    </div>
{% endblock %}

<!-- BEGIN: Content-->
{% block content %}
    <div class="app-content content">
        <div class="content-wrapper">
            <div class="content-wrapper-before"></div>
            <div class="content-header row">
            </div>
            <div class="content-body">
                <!-- Revenue, Hit Rate & Deals -->
                <div class="row">
                    <div class="col-lg-8 col-md-12 big-card">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Project Revenue</h4>
                                <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>
                                <div class="heading-elements">
                                    <ul class="list-inline mb-0">
                                        <li>
                                            <button type="button"
                                                    class="btn btn-glow btn-round btn-bg-gradient-x-red-pink">
                                                More
                                            </button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-content collapse show">
                                <div class="card-body p-0 pb-0">
                                    <div class="chartist">
                                        <div id="project-stats" class="height-350 areaGradientShadow1"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-12">
                        <div class="card ecom-card-1 bg-white">
                            <div class="card-content ecom-card2 height-180">
                                <h5 class="text-muted success position-absolute p-1">
                                    Progress Stats</h5>
                                <div>
                                    <i class="icon-pie-chart success font-large-1 float-right p-1"></i>
                                </div>
                                <div class="progress-stats-container ct-golden-section height-75 position-relative pt-3">
                                    <div id="progress-stats-bar-chart1">
                                        <svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="100%"
                                             height="100%" class="ct-chart-bar" style="width: 100%; height: 100%;">
                                            <g class="ct-grids"></g>
                                            <g>
                                                <g class="ct-series ct-series-a">
                                                    <line x1="41.49017987932478" x2="41.49017987932478" y1="115" y2="15"
                                                          class="ct-bar" ct:value="20"
                                                          style="stroke-width: 25px"></line>
                                                    <line x1="104.47053963797433" x2="104.47053963797433" y1="115"
                                                          y2="30" class="ct-bar" ct:value="17"
                                                          style="stroke-width: 25px"></line>
                                                    <line x1="167.4508993966239" x2="167.4508993966239" y1="115" y2="45"
                                                          class="ct-bar" ct:value="14"
                                                          style="stroke-width: 25px"></line>
                                                    <line x1="230.43125915527344" x2="230.43125915527344" y1="115"
                                                          y2="25" class="ct-bar" ct:value="18"
                                                          style="stroke-width: 25px"></line>
                                                    <line x1="293.411618913923" x2="293.411618913923" y1="115" y2="15"
                                                          class="ct-bar" ct:value="20"
                                                          style="stroke-width: 25px"></line>
                                                    <line x1="356.3919786725726" x2="356.3919786725726" y1="115" y2="40"
                                                          class="ct-bar" ct:value="15"
                                                          style="stroke-width: 25px"></line>
                                                    <line x1="419.3723384312221" x2="419.3723384312221" y1="115" y2="25"
                                                          class="ct-bar" ct:value="18"
                                                          style="stroke-width: 25px"></line>
                                                </g>
                                            </g>
                                            <g class="ct-labels">
                                                <foreignObject style="overflow: visible;" x="10" y="120"
                                                               width="62.980359758649556" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Mon</span></foreignObject>
                                                <foreignObject style="overflow: visible;" x="72.98035975864956" y="120"
                                                               width="62.980359758649556" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Tue</span></foreignObject>
                                                <foreignObject style="overflow: visible;" x="135.9607195172991" y="120"
                                                               width="62.98035975864954" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Wex</span></foreignObject>
                                                <foreignObject style="overflow: visible;" x="198.94107927594865" y="120"
                                                               width="62.98035975864957" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Thu</span></foreignObject>
                                                <foreignObject style="overflow: visible;" x="261.9214390345982" y="120"
                                                               width="62.98035975864957" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Fri</span></foreignObject>
                                                <foreignObject style="overflow: visible;" x="324.9017987932478" y="120"
                                                               width="62.98035975864951" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Sat</span></foreignObject>
                                                <foreignObject style="overflow: visible;" x="387.8821585518973" y="120"
                                                               width="62.98035975864957" height="20"><span
                                                        class="ct-label ct-horizontal ct-end"
                                                        xmlns="http://www.w3.org/2000/xmlns/"
                                                        style="width: 63px; height: 20px;">Sun</span></foreignObject>
                                            </g>
                                        </svg>
                                    </div>
                                    <div id="progress-stats-line-chart1" class="progress-stats-shadow">
                                        <div class="chartist-tooltip" style="top: -26.1625px; left: 155.013px;"><span
                                                class="chartist-tooltip-value">80</span></div>
                                        <svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="100%"
                                             height="100%" class="ct-chart-line" style="width: 100%; height: 100%;">
                                            <g class="ct-grids"></g>
                                            <g>
                                                <g class="ct-series ct-series-a">
                                                    <path d="M10,100C54.086,100,54.086,55,98.173,55C142.259,55,142.259,80,186.345,80C230.431,80,230.431,40,274.518,40C318.604,40,318.604,80,362.69,80C406.776,80,406.776,50,450.863,50"
                                                          class="ct-line"></path>
                                                    <circle cx="10" cy="100" ct:value="100" r="5"
                                                            class="ct-point ct-point-circle-transperent"></circle>
                                                    <circle cx="98.17250366210938" cy="55" ct:value="55" r="5"
                                                            class="ct-point ct-point-circle-transperent"></circle>
                                                    <circle cx="186.34500732421876" cy="80" ct:value="80" r="5"
                                                            class="ct-point ct-point-circle-transperent"></circle>
                                                    <circle cx="274.51751098632815" cy="40" ct:value="40" r="5"
                                                            class="ct-point ct-point-circle"></circle>
                                                    <circle cx="362.6900146484375" cy="80" ct:value="80" r="5"
                                                            class="ct-point ct-point-circle-transperent"></circle>
                                                    <circle cx="450.8625183105469" cy="50" ct:value="50" r="5"
                                                            class="ct-point ct-point-circle-transperent"></circle>
                                                </g>
                                            </g>
                                            <g class="ct-labels"></g>
                                            <defs>
                                                <linearGradient id="lineLinearStats1" x1="0" y1="0" x2="1" y2="0">
                                                    <stop offset="0%" stop-color="rgba(0,230,175,0.1)"></stop>
                                                    <stop offset="10%" stop-color="rgba(0,230,175,1)"></stop>
                                                    <stop offset="80%" stop-color="rgba(0,206,249, 1)"></stop>
                                                    <stop offset="98%" stop-color="rgba(0,206,249, 0.1)"></stop>
                                                </linearGradient>
                                            </defs>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card ">
                            <div class="card-header bg-hexagons">
                                <h4 class="card-title ">Statistics</h4>
                                <div class="heading-elements">
                                    <ul class="list-inline d-block mb-0">
                                        <li>
                                            <a id="report_btn"
                                               class="btn btn-sm btn-danger danger box-shadow-3 round btn-min-width pull-right"
                                               href="#" target="_blank">
                                                <span class="white">Report</span>
                                                <i class="ft-bar-chart pl-1 white"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-content collapse show bg-hexagons">
                                <div class="card-body pt-0 pb-1">
                                    <div class="media d-flex">
                                        <div class="align-self-center width-100">
                                            <div id="statistics-donut-chart" class="height-100 donutShadow">
                                                <svg xmlns:ct="http://gionkunz.github.com/chartist-js/ct" width="100%"
                                                     height="100%" class="ct-chart-donut"
                                                     style="width: 100%; height: 100%;">
                                                    <g class="ct-series ct-series-a">
                                                        <path d="M49.992,5A45,45,0,1,0,50,5L50,10A40,40,0,1,1,49.993,10Z"
                                                              class="ct-slice-donut-solid" ct:value="100"></path>
                                                    </g>
                                                    <g>
                                                        <text dx="50" dy="54.700000286102295" text-anchor="middle"
                                                              class="ct-label" font-family="feather">
                                                        </text>
                                                    </g>
                                                    <defs>
                                                        <linearGradient id="donutGradient2" x1="0" y1="1" x2="0" y2="0">
                                                            <stop offset="0%" stop-color="rgba(253,99,107,1)"></stop>
                                                            <stop offset="95%"
                                                                  stop-color="rgba(253,99,107, 0.3)"></stop>
                                                        </linearGradient>
                                                    </defs>
                                                </svg>
                                            </div>
                                        </div>
                                        <div class="media-body text-right mt-2">
                                            <h3 class=" font-large-2 blue-grey lighten-1 ">35,656
                                            </h3>
                                            <h6 class="mt-1">
                                                    <span class="text-muted">tasks completed in the
                                                        <a href="#" class="darken-2">last year.</a>
                                                    </span>
                                            </h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--/ Revenue, Hit Rate & Deals -->
                <!-- Emails Products & Avg Deals -->
                <div class="row">
                    <div class="col-xl-3 col-lg-3 col-md-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="align-self-top">
                                            <i class="icon-eye icon-opacity info font-large-4"></i>
                                        </div>
                                        <div class="media-body text-right align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Total Views</span>
                                            <h1 class="info mb-0">687,142</h1>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="align-self-top">
                                            <i class="icon-users icon-opacity warning font-large-4"></i>
                                        </div>
                                        <div class="media-body text-right align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Total Customers</span>
                                            <h1 class="warning mb-0">8654</h1>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="align-self-top">
                                            <i class="icon-basket-loaded icon-opacity success font-large-4"></i>
                                        </div>
                                        <div class="media-body text-right align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Total Order</span>
                                            <h1 class="success mb-0">1562</h1>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="align-self-top">
                                            <i class="icon-wallet icon-opacity danger font-large-4"></i>
                                        </div>
                                        <div class="media-body text-right align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Total Revenue</span>
                                            <h1 class="danger mb-0">$18,123</h1>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-3 col-lg-6 col-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="media-body text-left align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">New Tickets</span>
                                            <h1 class="danger mb-0">6235</h1>
                                        </div>
                                        <div class="align-self-top">
                                            <i class="icon-tag icon-opacity danger font-large-4"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-6 col-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="media-body text-left align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Agents</span>
                                            <h1 class="success mb-0">486</h1>
                                        </div>
                                        <div class="align-self-top">
                                            <i class="icon-earphones-alt icon-opacity success font-large-4"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-3 col-lg-6 col-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="media-body text-left align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Response Time</span>
                                            <h1 class="warning mb-0">18 Hrs</h1>
                                        </div>
                                        <div class="align-self-top">
                                            <i class="icon-speedometer icon-opacity warning font-large-4"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-6 col-12">
                        <div class="card">
                            <div class="card-content">
                                <div class="card-body">
                                    <div class="media d-flex">
                                        <div class="media-body text-left align-self-bottom mt-3">
                                            <span class="d-block mb-1 font-medium-1">Closed Tickets</span>
                                            <h1 class="info mb-0">5681</h1>
                                        </div>
                                        <div class="align-self-top">
                                            <i class="icon-like icon-opacity info font-large-4"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--/ Emails Products & Avg Deals -->

            </div>
        </div>
    </div>
{% endblock %}
<!-- END: Content-->

{% block scripts %}
    <script type="text/javascript">
        if ('ontouchstart' in document.documentElement) document.write("<script src='/static/assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
    </script>
    <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>

    <script>

        jQuery(function ($) {
            $('.easy-pie-chart.percentage').each(function () {
                var $box = $(this).closest('.infobox');
                var barColor = $(this).data('color') || (!$box.hasClass('infobox-dark') ? $box.css('color') : 'rgba(255,255,255,0.95)');
                var trackColor = barColor == 'rgba(255,255,255,0.95)' ? 'rgba(255,255,255,0.25)' : '#E2E2E2';
                var size = parseInt($(this).data('size')) || 50;
                $(this).easyPieChart({
                    barColor: barColor,
                    trackColor: trackColor,
                    scaleColor: false,
                    lineCap: 'butt',
                    lineWidth: parseInt(size / 10),
                    animate: ace.vars['old_ie'] ? false : 1000,
                    size: size
                });
            })

            $('.sparkline').each(function () {
                var $box = $(this).closest('.infobox');
                var barColor = !$box.hasClass('infobox-dark') ? $box.css('color') : '#FFF';
                $(this).sparkline('html',
                    {
                        tagValuesAttribute: 'data-values',
                        type: 'bar',
                        barColor: barColor,
                        chartRangeMin: $(this).data('min') || 0
                    });
            });


            //flot chart resize plugin, somehow manipulates default browser resize event to optimize it!
            //but sometimes it brings up errors with normal resize event handlers
            $.resize.throttleWindow = false;

            var placeholder = $('#piechart-placeholder').css({'width': '90%', 'min-height': '150px'});
            var data = [];

            let num = 0;
            {% for key, value in pie_data.items %}
                var r = parseInt(250 - num * 150 /{{ data_length }});
                var g = parseInt(50 + num * 200 /{{ data_length }});
                var b = parseInt(200 - num * 150 /{{ data_length }});
                var colorString = '#' + r.toString(16) + g.toString(16) + b.toString(16);
                num += 1
                data.push({label: "{{ key|truncatewords:3 }}", data: {{ value|truncatewords:10 }}, color: colorString});
            {% endfor %}


            function drawPieChart(placeholder, data, position) {
                $.plot(placeholder, data, {
                    series: {
                        pie: {
                            show: true,
                            tilt: 0.8,
                            highlight: {
                                opacity: 0.25
                            },
                            stroke: {
                                color: '#fff',
                                width: 2
                            },
                            startAngle: 2
                        }
                    },
                    legend: {
                        show: true,
                        position: position || "ne",
                        labelBoxBorderColor: null,
                        margin: [-30, 15]
                    }
                    ,
                    grid: {
                        hoverable: true,
                        clickable: true
                    }
                })
            }


            drawPieChart(placeholder, data);

            /**
             we saved the drawing function and the data to redraw with different position later when switching to RTL mode dynamically
             so that's not needed actually.
             */
            placeholder.data('chart', data);
            placeholder.data('draw', drawPieChart);


            //pie chart tooltip example
            var $tooltip = $("<div class='tooltip top in'><div class='tooltip-inner'></div></div>").hide().appendTo('body');
            var previousPoint = null;

            placeholder.on('plothover', function (event, pos, item) {
                if (item) {
                    if (previousPoint != item.seriesIndex) {
                        previousPoint = item.seriesIndex;
                        var tip = item.series['label'] + " : " + item.series['percent'] + '%';
                        $tooltip.show().children(0).text(tip);
                    }
                    $tooltip.css({top: pos.pageY + 10, left: pos.pageX + 10});
                } else {
                    $tooltip.hide();
                    previousPoint = null;
                }

            });

            /////////////////////////////////////
            $(document).one('ajaxloadstart.page', function (e) {
                $tooltip.remove();
            });


            var d1 = [];
            for (var i = 0; i < Math.PI * 2; i += 0.5) {
                d1.push([i, Math.sin(i)]);
            }

            var d2 = [];
            for (var i = 0; i < Math.PI * 2; i += 0.5) {
                d2.push([i, Math.cos(i)]);
            }

            var d3 = [];
            for (var i = 0; i < Math.PI * 2; i += 0.2) {
                d3.push([i, Math.tan(i)]);
            }


            var sales_charts = $('#sales-charts').css({'width': '100%', 'height': '220px'});
            $.plot("#sales-charts", [
                {label: "Domains", data: d1},
                {label: "Hosting", data: d2},
                {label: "Services", data: d3}
            ], {
                hoverable: true,
                shadowSize: 0,
                series: {
                    lines: {show: true},
                    points: {show: true}
                },
                xaxis: {
                    tickLength: 0
                },
                yaxis: {
                    ticks: 10,
                    min: -2,
                    max: 2,
                    tickDecimals: 3
                },
                grid: {
                    backgroundColor: {colors: ["#fff", "#fff"]},
                    borderWidth: 1,
                    borderColor: '#555'
                }
            });


            $('#recent-box [data-rel="tooltip"]').tooltip({placement: tooltip_placement});

            function tooltip_placement(context, source) {
                var $source = $(source);
                var $parent = $source.closest('.tab-content')
                var off1 = $parent.offset();
                var w1 = $parent.width();

                var off2 = $source.offset();
                //var w2 = $source.width();

                if (parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2)) return 'right';
                return 'left';
            }


            $('.dialogs,.comments').ace_scroll({
                size: 300
            });
        });
    </script>

{% endblock %}


{% block dashboard_js %}
    <script src="{% static 'assets/js/jquery-ui.custom.min.js' %}"></script>
    <!-- BEGIN: Vendor JS-->
    <script src="{% static "assets_backend/vendors/js/vendors.min.js" %}" type="text/javascript"></script>
    <!-- BEGIN Vendor JS-->

    <!-- BEGIN: Page Vendor JS-->
    <script src="{% static "assets_backend/vendors/js/charts/chartist.min.js" %}" type="text/javascript"></script>
    <script src="{% static "assets_backend/vendors/js/charts/chartist-plugin-tooltip.min.js" %}"
            type="text/javascript"></script>
    <!-- END: Page Vendor JS-->

    <!-- BEGIN: Theme JS-->
    <script src="{% static "assets_backend/js/core/app-menu.js" %}" type="text/javascript"></script>
    <script src="{% static "assets_backend/js/core/app.js" %}" type="text/javascript"></script>
    <!-- END: Theme JS-->
    <!-- BEGIN: Page JS-->
    <script src="{% static "assets_backend/js/scripts/pages/dashboard-analytics.js" %}" type="text/javascript"></script>
    <!-- END: Page JS-->
{% endblock %}